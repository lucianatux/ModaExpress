<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ModaExpress - Tienda de Ropa</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome para iconos -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Estilos personalizados -->
    <style>
      :root {
        --primary-color: #6f42c1;
        --secondary-color: #fd7e14;
        --light-color: #f8f9fa;
        --dark-color: #212529;
        --success-color: #198754;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        padding-top: 76px; /* Para compensar el navbar fijo */
      }

      .navbar-brand {
        font-weight: 700;
        color: var(--primary-color) !important;
      }

      .hero-section {
        background: url("https://images.unsplash.com/photo-1608739872077-21ddc15dc152?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDQ2fHx8ZW58MHx8fHx8");
        background-size: cover;
        background-position: center;
        color: white;
        padding: 100px 0;
        margin-bottom: 40px;
      }

      .spec-text{
        color: var(--primary-color);
      }

      .product-card {
        transition: transform 0.3s, box-shadow 0.3s;
        margin-bottom: 20px;
        height: 100%;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .product-img {
        height: 250px;
        object-fit: cover;
        cursor: pointer;
      }

      .category-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 0.8rem;
      }

      .cart-badge {
        position: absolute;
        top: -8px;
        right: -8px;
        border-radius: 50%;
        background-color: var(--secondary-color);
        color: white;
        width: 22px;
        height: 22px;
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Modal para vista ampliada de productos */
      .product-modal-img {
        max-height: 400px;
        object-fit: contain;
      }

      /* Botón flotante de WhatsApp */
      .whatsapp-float {
        position: fixed;
        width: 60px;
        height: 60px;
        bottom: 40px;
        right: 40px;
        background-color: #25d366;
        color: #fff;
        border-radius: 50px;
        text-align: center;
        font-size: 30px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s;
      }

      .whatsapp-float:hover {
        background-color: #128c7e;
        transform: scale(1.1);
      }

      /* Sidebar del carrito */
      .cart-sidebar {
        position: fixed;
        top: 0;
        right: -400px;
        width: 350px;
        height: 100%;
        background-color: white;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
        transition: right 0.3s ease;
        z-index: 1050;
        overflow-y: auto;
      }

      .cart-sidebar.open {
        right: 0;
      }

      .cart-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1040;
        display: none;
      }

      .cart-overlay.active {
        display: block;
      }

      .cart-item-img {
        width: 60px;
        height: 60px;
        object-fit: cover;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .cart-sidebar {
          width: 100%;
          right: -100%;
        }

        .whatsapp-float {
          bottom: 20px;
          right: 20px;
          width: 50px;
          height: 50px;
          font-size: 25px;
        }

        .hero-section {
          padding: 60px 0;
        }
      }

      footer {
        background-color: var(--dark-color);
        color: var(--light-color);
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm"
    >
      <div class="container">
        <a class="navbar-brand" href="#">
          <i class="fas fa-tshirt me-2"></i>ModaExpress
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link active" href="#inicio">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#productos">Productos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#nosotros">Nosotros</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contacto">Contacto</a>
            </li>
          </ul>

          <div class="position-relative">
            <button class="btn btn-outline-primary" id="cartButton">
              <i class="fas fa-shopping-cart"></i> Carrito
              <span class="cart-badge" id="cartBadge">0</span>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Overlay para el carrito -->
    <div class="cart-overlay" id="cartOverlay"></div>

    <!-- Sidebar del carrito -->
    <div class="cart-sidebar" id="cartSidebar">
      <div class="p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h4 class="mb-0">Tu Carrito</h4>
          <button class="btn btn-link text-dark p-0" id="closeCart">
            <i class="fas fa-times fa-lg"></i>
          </button>
        </div>

        <div id="cartItemsContainer">
          <!-- Los productos del carrito se mostrarán aquí -->
          <p class="text-muted text-center" id="emptyCartMessage">
            Tu carrito está vacío
          </p>
        </div>

        <div class="mt-4 pt-3 border-top">
          <div class="d-flex justify-content-between mb-3">
            <h5>Total:</h5>
            <h5 id="cartTotal">$0</h5>
          </div>
          <button
            class="btn btn-primary w-100 mb-2"
            id="sendToWhatsApp"
            disabled
          >
            <i class="fab fa-whatsapp me-2"></i> Enviar pedido por WhatsApp
          </button>
          <button class="btn btn-outline-secondary w-100" id="clearCart">
            <i class="fas fa-trash-alt me-2"></i> Vaciar carrito
          </button>
        </div>
      </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section" id="inicio">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <h1 class="display-4 fw-bold mb-3">Moda Express</h1>
            <h4>Moda con estilo y calidad</h4>
            <p class="lead mb-4">
              Descubre nuestra colección exclusiva de ropa para todas las
              ocasiones. Calidad, comodidad y estilo en un solo lugar.
            </p>
            <a href="#productos" class="btn btn-secondary btn-lg"
              >Ver Colección</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Productos -->
    <section class="py-5" id="productos">
      <div class="container">
        <h2 class="text-center mb-5">Nuestros Productos</h2>

        <!-- Filtros de categoría -->
        <div class="row mb-4">
          <div class="col-12">
            <div class="d-flex flex-wrap justify-content-center">
              <button
                class="btn btn-outline-primary m-1 active filter-btn"
                data-category="todos"
              >
                Todos
              </button>
              <button
                class="btn btn-outline-primary m-1 filter-btn"
                data-category="remeras"
              >
                Remeras
              </button>
              <button
                class="btn btn-outline-primary m-1 filter-btn"
                data-category="pantalones"
              >
                Pantalones
              </button>
              <button
                class="btn btn-outline-primary m-1 filter-btn"
                data-category="vestidos"
              >
                Vestidos
              </button>
            </div>
          </div>
        </div>

        <!-- Lista de productos -->
        <div class="row" id="productosContainer">
          <!-- Los productos se cargarán aquí con JavaScript -->
        </div>
      </div>
    </section>

    <!-- Información de la tienda -->
    <section class="py-5 bg-light" id="nosotros">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 mb-4 mb-lg-0">
            <h2 class="mb-4">Sobre ModaExpress</h2>
            <p class="lead">
              Somos una pequeña tienda de ropa con más de 10 años de experiencia
              en el mercado de la moda.
            </p>
            <p>
              Nos especializamos en ofrecer prendas de calidad a precios
              accesibles, con un estilo que combina lo clásico con las últimas
              tendencias.
            </p>
            <p>
              Nuestro objetivo es que cada cliente encuentre la prenda perfecta
              que se adapte a su estilo y necesidades.
            </p>
          </div>
          <div class="col-lg-6">
            <img
              src="https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
              class="img-fluid rounded shadow"
              alt="Nuestra tienda"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Contacto -->
    <section class="py-5" id="contacto">
      <div class="container">
        <h2 class="text-center mb-5">Contáctanos</h2>
        <div class="row">
          <div class="col-md-6 mb-4 mb-md-0">
            <h4 class="mb-4">Información de Contacto</h4>
            <p>
              <i class="fas fa-map-marker-alt me-2 text-primary"></i> Av.
              Principal 123, Ciudad
            </p>
            <p><i class="fas fa-phone me-2 text-primary"></i> (123) 456-7890</p>
            <p>
              <i class="fas fa-envelope me-2 text-primary"></i>
              info@modaexpress.com
            </p>
            <p>
              <i class="fas fa-clock me-2 text-primary"></i> Lunes a Sábado:
              9:00 AM - 8:00 PM
            </p>
          </div>
          <div class="col-md-6">
            <h4 class="mb-4">¿Cómo funciona nuestro pedido por WhatsApp?</h4>
            <ol>
              <li class="mb-2">Agrega productos a tu carrito</li>
              <li class="mb-2">Revisa los productos seleccionados</li>
              <li class="mb-2">Haz clic en "Enviar pedido por WhatsApp"</li>
              <li class="mb-2">
                Se abrirá WhatsApp con tu pedido listo para enviar
              </li>
              <li class="mb-2">
                Nos pondremos en contacto contigo para confirmar
              </li>
            </ol>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-4">
      <div class="container text-center">
        <p class="mb-0">
          &copy; 2023 ModaExpress. Todos los derechos reservados.
        </p>
      </div>
    </footer>

    <!-- Modal para vista ampliada de producto -->
    <div class="modal fade" id="productModal" tabindex="-1">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalProductTitle">Producto</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <img
                  id="modalProductImage"
                  src=""
                  class="img-fluid product-modal-img"
                  alt="Producto"
                />
              </div>
              <div class="col-md-6">
                <h4 id="modalProductName"></h4>
                <p id="modalProductCategory" class="text-muted"></p>
                <p id="modalProductDescription" class="mb-4"></p>
                <h5 class="text-primary" id="modalProductPrice"></h5>
                <div class="mt-4">
                  <button class="btn btn-primary" id="modalAddToCart">
                    <i class="fas fa-cart-plus me-2"></i> Agregar al carrito
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Botón flotante de WhatsApp -->
    <a
      href="https://wa.me/5491112345678?text=Hola%20ModaExpress,%20me%20interesan%20sus%20productos"
      class="whatsapp-float"
      target="_blank"
    >
      <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript personalizado -->
    <script>
      // Datos de productos
      const productos = [
        {
          id: 1,
          nombre: "Remera Básica Blanca",
          categoria: "remeras",
          precio: 2990,
          descripcion:
            "Remera 100% algodón, corte clásico, ideal para uso diario. Disponible en talles S, M, L y XL.",
          imagen:
            "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 2,
          nombre: "Jeans Slim Fit Azul",
          categoria: "pantalones",
          precio: 8990,
          descripcion:
            "Jeans de corte slim fit, color azul medio, tela elastizada para mayor comodidad.",
          imagen:
            "https://images.unsplash.com/photo-1542272604-787c3835535d?ixlib=rb-4.0.3&auto=format&fit=crop&w-800&q=80",
        },
        {
          id: 3,
          nombre: "Vestido Floral Verano",
          categoria: "vestidos",
          precio: 12990,
          descripcion:
            "Vestido floral con corte A, tela liviana y fresca, ideal para el verano.",
          imagen:
            "https://images.unsplash.com/photo-1567095761054-7a02e69e5c43?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 4,
          nombre: "Remera Estampada Negra",
          categoria: "remeras",
          precio: 3990,
          descripcion:
            "Remera negra con estampado moderno, 100% algodón, diseño exclusivo.",
          imagen:
            "https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 5,
          nombre: "Pantalón Cargo Beige",
          categoria: "pantalones",
          precio: 10990,
          descripcion:
            "Pantalón cargo color beige, múltiples bolsillos, tela resistente y cómoda.",
          imagen:
            "https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 6,
          nombre: "Vestido Negro Elegante",
          categoria: "vestidos",
          precio: 15990,
          descripcion:
            "Vestido negro elegante para ocasiones especiales, corte princesa, tela satinada.",
          imagen:
            "https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 7,
          nombre: "Remera Manga Larga Gris",
          categoria: "remeras",
          precio: 4990,
          descripcion:
            "Remera manga larga color gris, tela suave y cálida, ideal para temporada otoño-invierno.",
          imagen:
            "https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
        {
          id: 8,
          nombre: "Pantalón Chino Negro",
          categoria: "pantalones",
          precio: 8490,
          descripcion:
            "Pantalón chino color negro, corte recto, tela liviana y fácil de planchar.",
          imagen:
            "https://images.unsplash.com/photo-1604176354204-9268737828e4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
        },
      ];

      // Carrito de compras
      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

      // Elementos del DOM
      const productosContainer = document.getElementById("productosContainer");
      const cartButton = document.getElementById("cartButton");
      const cartSidebar = document.getElementById("cartSidebar");
      const cartOverlay = document.getElementById("cartOverlay");
      const closeCart = document.getElementById("closeCart");
      const cartItemsContainer = document.getElementById("cartItemsContainer");
      const cartTotal = document.getElementById("cartTotal");
      const cartBadge = document.getElementById("cartBadge");
      const sendToWhatsApp = document.getElementById("sendToWhatsApp");
      const clearCart = document.getElementById("clearCart");
      const filterButtons = document.querySelectorAll(".filter-btn");
      const emptyCartMessage = document.getElementById("emptyCartMessage");

      // Inicialización
      document.addEventListener("DOMContentLoaded", function () {
        // Cargar productos
        mostrarProductos(productos);

        // Actualizar carrito
        actualizarCarrito();

        // Configurar eventos
        configurarEventos();
      });

      // Mostrar productos en el DOM
      function mostrarProductos(productosArray) {
        productosContainer.innerHTML = "";

        productosArray.forEach((producto) => {
          const productoHTML = `
                    <div class="col-md-6 col-lg-4 col-xl-3 producto-item" data-category="${
                      producto.categoria
                    }">
                        <div class="card product-card h-100">
                            <div class="position-relative">
                                <img src="${
                                  producto.imagen
                                }" class="card-img-top product-img" alt="${
            producto.nombre
          }" data-product-id="${producto.id}">
                                <span class="badge bg-primary category-badge">${
                                  producto.categoria.charAt(0).toUpperCase() +
                                  producto.categoria.slice(1)
                                }</span>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">${producto.nombre}</h5>
                                <p class="card-text text-muted">${producto.descripcion.substring(
                                  0,
                                  80
                                )}...</p>
                                <div class="mt-auto">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <h5 class="text-primary mb-0">$${
                                          producto.precio
                                        }</h5>
                                        <button class="btn btn-sm btn-outline-primary add-to-cart" data-product-id="${
                                          producto.id
                                        }">
                                            <i class="fas fa-cart-plus me-1"></i> Agregar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

          productosContainer.innerHTML += productoHTML;
        });

        // Configurar eventos para las imágenes de productos
        document.querySelectorAll(".product-img").forEach((img) => {
          img.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            mostrarModalProducto(productId);
          });
        });

        // Configurar eventos para botones "Agregar al carrito"
        document.querySelectorAll(".add-to-cart").forEach((btn) => {
          btn.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            agregarAlCarrito(productId);
          });
        });
      }

      // Filtrar productos por categoría
      function configurarFiltros() {
        filterButtons.forEach((btn) => {
          btn.addEventListener("click", function () {
            // Actualizar botones activos
            filterButtons.forEach((b) => b.classList.remove("active"));
            this.classList.add("active");

            const categoria = this.getAttribute("data-category");
            const productosItems = document.querySelectorAll(".producto-item");

            productosItems.forEach((item) => {
              if (
                categoria === "todos" ||
                item.getAttribute("data-category") === categoria
              ) {
                item.style.display = "block";
              } else {
                item.style.display = "none";
              }
            });
          });
        });
      }

      // Mostrar modal con detalles del producto
      function mostrarModalProducto(productId) {
        const producto = productos.find((p) => p.id === productId);
        if (!producto) return;

        // Configurar contenido del modal
        document.getElementById("modalProductImage").src = producto.imagen;
        document.getElementById("modalProductImage").alt = producto.nombre;
        document.getElementById("modalProductTitle").textContent =
          producto.nombre;
        document.getElementById("modalProductName").textContent =
          producto.nombre;
        document.getElementById("modalProductCategory").textContent =
          producto.categoria.charAt(0).toUpperCase() +
          producto.categoria.slice(1);
        document.getElementById("modalProductDescription").textContent =
          producto.descripcion;
        document.getElementById(
          "modalProductPrice"
        ).textContent = `$${producto.precio}`;

        // Configurar botón de agregar al carrito
        const modalAddToCart = document.getElementById("modalAddToCart");
        modalAddToCart.setAttribute("data-product-id", producto.id);

        // Mostrar modal
        const productModal = new bootstrap.Modal(
          document.getElementById("productModal")
        );
        productModal.show();
      }

      // Agregar producto al carrito
      function agregarAlCarrito(productId) {
        const producto = productos.find((p) => p.id === productId);
        if (!producto) return;

        // Verificar si el producto ya está en el carrito
        const productoEnCarrito = carrito.find((item) => item.id === productId);

        if (productoEnCarrito) {
          productoEnCarrito.cantidad += 1;
        } else {
          carrito.push({
            ...producto,
            cantidad: 1,
          });
        }

        // Guardar en localStorage
        localStorage.setItem("carrito", JSON.stringify(carrito));

        // Actualizar interfaz
        actualizarCarrito();

        // Mostrar notificación
        mostrarNotificacion(
          `${producto.nombre} agregado al carrito`,
          "success"
        );
      }

      // Remover producto del carrito
      function removerDelCarrito(productId) {
        carrito = carrito.filter((item) => item.id !== productId);

        // Guardar en localStorage
        localStorage.setItem("carrito", JSON.stringify(carrito));

        // Actualizar interfaz
        actualizarCarrito();

        // Mostrar notificación
        mostrarNotificacion("Producto eliminado del carrito", "warning");
      }

      // Actualizar cantidad de un producto en el carrito
      function actualizarCantidad(productId, nuevaCantidad) {
        if (nuevaCantidad < 1) {
          removerDelCarrito(productId);
          return;
        }

        const productoEnCarrito = carrito.find((item) => item.id === productId);
        if (productoEnCarrito) {
          productoEnCarrito.cantidad = nuevaCantidad;

          // Guardar en localStorage
          localStorage.setItem("carrito", JSON.stringify(carrito));

          // Actualizar interfaz
          actualizarCarrito();
        }
      }

      // Actualizar la vista del carrito
      function actualizarCarrito() {
        // Actualizar badge del carrito
        const totalItems = carrito.reduce(
          (total, item) => total + item.cantidad,
          0
        );
        cartBadge.textContent = totalItems;

        // Actualizar items del carrito en el sidebar
        if (carrito.length === 0) {
          emptyCartMessage.style.display = "block";
          cartItemsContainer.innerHTML =
            '<p class="text-muted text-center" id="emptyCartMessage">Tu carrito está vacío</p>';
          cartTotal.textContent = "$0";
          sendToWhatsApp.disabled = true;
          return;
        }

        emptyCartMessage.style.display = "none";

        // Calcular total
        const total = carrito.reduce(
          (sum, item) => sum + item.precio * item.cantidad,
          0
        );
        cartTotal.textContent = `$${total}`;

        // Habilitar botón de WhatsApp
        sendToWhatsApp.disabled = false;

        // Generar HTML de los items del carrito
        let cartHTML = "";
        carrito.forEach((item) => {
          cartHTML += `
                    <div class="cart-item mb-3 pb-3 border-bottom">
                        <div class="row align-items-center">
                            <div class="col-3">
                                <img src="${item.imagen}" class="cart-item-img rounded" alt="${item.nombre}">
                            </div>
                            <div class="col-6">
                                <h6 class="mb-1">${item.nombre}</h6>
                                <p class="text-muted small mb-0">${item.categoria}</p>
                                <p class="text-primary mb-0">$${item.precio}</p>
                            </div>
                            <div class="col-3">
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-secondary decrement-btn" data-product-id="${item.id}">-</button>
                                    <span class="mx-2">${item.cantidad}</span>
                                    <button class="btn btn-sm btn-outline-secondary increment-btn" data-product-id="${item.id}">+</button>
                                </div>
                                <button class="btn btn-sm btn-link text-danger mt-1 remove-btn" data-product-id="${item.id}">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
        });

        cartItemsContainer.innerHTML = cartHTML;

        // Configurar eventos de los botones del carrito
        document.querySelectorAll(".decrement-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            const item = carrito.find((item) => item.id === productId);
            if (item) {
              actualizarCantidad(productId, item.cantidad - 1);
            }
          });
        });

        document.querySelectorAll(".increment-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            const item = carrito.find((item) => item.id === productId);
            if (item) {
              actualizarCantidad(productId, item.cantidad + 1);
            }
          });
        });

        document.querySelectorAll(".remove-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            removerDelCarrito(productId);
          });
        });
      }

      // Vaciar carrito
      function vaciarCarrito() {
        carrito = [];
        localStorage.setItem("carrito", JSON.stringify(carrito));
        actualizarCarrito();
        mostrarNotificacion("Carrito vaciado", "info");
      }

      // Enviar pedido por WhatsApp
      function enviarPedidoWhatsApp() {
        if (carrito.length === 0) return;

        // Crear mensaje con los productos
        let mensaje =
          "Hola ModaExpress, me gustaría hacer el siguiente pedido:%0A%0A";

        carrito.forEach((item, index) => {
          mensaje += `${index + 1}. ${item.nombre} - Cantidad: ${
            item.cantidad
          } - $${item.precio * item.cantidad}%0A`;
        });

        const total = carrito.reduce(
          (sum, item) => sum + item.precio * item.cantidad,
          0
        );
        mensaje += `%0ATotal: $${total}%0A%0AMis datos de contacto:%0ANombre:%0ATeléfono:%0ADirección de entrega:`;

        // Número de WhatsApp (reemplazar con el número real)
        const telefono = "5491112345678";

        // Abrir WhatsApp
        window.open(`https://wa.me/${telefono}?text=${mensaje}`, "_blank");

        // Opcional: vaciar carrito después de enviar
        // vaciarCarrito();
      }

      // Mostrar notificación
      function mostrarNotificacion(mensaje, tipo = "info") {
        // Crear elemento de notificación
        const notificacion = document.createElement("div");
        notificacion.className = `alert alert-${tipo} alert-dismissible fade show position-fixed`;
        notificacion.style.cssText =
          "top: 20px; right: 20px; z-index: 1100; max-width: 300px;";
        notificacion.innerHTML = `
                ${mensaje}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

        // Agregar al DOM
        document.body.appendChild(notificacion);

        // Eliminar después de 3 segundos
        setTimeout(() => {
          notificacion.remove();
        }, 3000);
      }

      // Configurar eventos
      function configurarEventos() {
        // Botón para abrir carrito
        cartButton.addEventListener("click", function () {
          cartSidebar.classList.add("open");
          cartOverlay.classList.add("active");
          document.body.style.overflow = "hidden";
        });

        // Botón para cerrar carrito
        closeCart.addEventListener("click", function () {
          cartSidebar.classList.remove("open");
          cartOverlay.classList.remove("active");
          document.body.style.overflow = "auto";
        });

        // Overlay para cerrar carrito
        cartOverlay.addEventListener("click", function () {
          cartSidebar.classList.remove("open");
          cartOverlay.classList.remove("active");
          document.body.style.overflow = "auto";
        });

        // Botón para vaciar carrito
        clearCart.addEventListener("click", vaciarCarrito);

        // Botón para enviar pedido por WhatsApp
        sendToWhatsApp.addEventListener("click", enviarPedidoWhatsApp);

        // Filtros de categoría
        configurarFiltros();

        // Botón de agregar al carrito desde el modal
        document
          .getElementById("modalAddToCart")
          .addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-product-id"));
            agregarAlCarrito(productId);

            // Cerrar modal
            const productModal = bootstrap.Modal.getInstance(
              document.getElementById("productModal")
            );
            productModal.hide();
          });

        // Navegación suave
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();

            const targetId = this.getAttribute("href");
            if (targetId === "#") return;

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              window.scrollTo({
                top: targetElement.offsetTop - 80,
                behavior: "smooth",
              });
            }
          });
        });
      }
    </script>
  </body>
</html>
